{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["const API = './videos.json';\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n  const videos = document.querySelector('.videos');\r\n\r\n  program.init(videos);\r\n});\r\n\r\nconst program = (function() {\r\n\r\n  function open(videos) {\r\n    const request = new XMLHttpRequest();\r\n\r\n    request.open('GET', API, true);\r\n    request.onload = function() {\r\n      const data = JSON.parse(request.response);\r\n\r\n      const nyVideo = videos.querySelector('#ny');\r\n      nyVideo.classList.add('row__container');\r\n      const ny = data.categories[0].videos;\r\n\r\n      for(var i = 0; i < ny.length; i++) {\r\n        const gildi = ny[i];\r\n        create(data.videos[gildi-1], nyVideo);\r\n      }\r\n\r\n      const kennsluVideo = videos.querySelector('#kennsla');\r\n      kennsluVideo.classList.add('row__container');\r\n      const kennsla = data.categories[1].videos;\r\n      for(var i = 0; i < kennsla.length; i++) {\r\n        const gildi = kennsla[i];\r\n        create(data.videos[gildi-1], kennsluVideo);\r\n      }\r\n\r\n      const skemmtiVideo = videos.querySelector('#skemmtun');\r\n      skemmtiVideo.classList.add('row__container');\r\n      const skemmtun = data.categories[2].videos;\r\n      for(var i = 0; i < skemmtun.length; i++) {\r\n        const gildi = skemmtun[i];\r\n        create(data.videos[gildi-1], skemmtiVideo);\r\n      }\r\n\r\n    };\r\n    request.send();\r\n  }\r\n\r\n  function element(name, child) {\r\n    const el = document.createElement(name);\r\n\r\n    if (typeof child === 'string') {\r\n      el.appendChild(document.createTextNode(child));\r\n    } else if (typeof child === 'object') {\r\n      el.appendChild(child)\r\n    }\r\n\r\n    return el;\r\n  }\r\n\r\n  function create(stak, container) {\r\n    const numer = stak.id;\r\n    const mynd = document.createElement('img');\r\n\r\n    mynd.src = stak.poster;\r\n    const titill = stak.title;\r\n\r\n    var sidan = buidTil(stak.created);\r\n\r\n    const lengd = athugaStak(stak.duration);\r\n\r\n    const videoContainer = element('div');\r\n    videoContainer.classList.add(\"text__container\");\r\n\r\n    const divElement = element('div');\r\n    divElement.classList.add('text__fyrsta');\r\n\r\n    const divTveir = element('div');\r\n    divTveir.classList.add('text__seinna');\r\n    divTveir.appendChild(document.createTextNode(lengd));\r\n\r\n    divElement.appendChild(divTveir);\r\n    divElement.appendChild(mynd);\r\n\r\n\r\n    const ul = element('div');\r\n    ul.appendChild(videoContainer);\r\n    videoContainer.appendChild(divElement);\r\n\r\n    ul.appendChild(element('div', titill));\r\n    ul.classList.add('container__content');\r\n\r\n    ul.appendChild(element('div', sidan));\r\n    console.log(ul);\r\n\r\n    ul.addEventListener('click', () => {\r\n      window.location.href = numer;\r\n    });\r\n\r\n    container.classList.add('text__heading');\r\n    container.appendChild(ul);\r\n  }\r\n\r\n  function buidTil(runa){\r\n    const dagur = new Date(runa);\r\n    const munur = new Date().getTime() - dagur;\r\n    const d = Math.floor((munur/1000) / (60 * 60 * 24));\r\n    if(d > 365){\r\n      const y = Math.floor(d/365);\r\n      if(y === 1){\r\n        return 'Fyrir 1 ári síðan';\r\n      }else {\r\n        return 'Fyrir ' + y + ' árum síðan';\r\n      }\r\n    }\r\n    if(d > 30){\r\n      const m = Math.floor(d/30);\r\n      if(m === 1){\r\n        return 'Fyrir 1 mánuði síðan';\r\n      }else {\r\n        return 'Fyrir ' + m + ' mánuðum síðan';\r\n      }\r\n    }\r\n    if(d > 7){\r\n      const v = Math.floor(d/7);\r\n      if(v === 1){\r\n        return 'Fyrir 1 viku síðan';\r\n      }else {\r\n        return 'Fyrir ' + v + ' vikum síðan';\r\n      }\r\n    }\r\n    if(d > 0){\r\n      if(d === 1){\r\n        return 'Fyrir 1 degi síðan';\r\n      }else {\r\n        return 'Fyrir ' + d + ' vikum síðan';\r\n      }\r\n    }\r\n    const k = Math.floor((munur/1000) / (60 * 60));\r\n    if(k > 1 || k === 0){\r\n      return 'Fyrir ' + k + ' klukkustundum síðan';\r\n    }\r\n    return 'Fyrir 1 klukkustund síðan';\r\n  }\r\n\r\n  function athugaStak(time) {\r\n    const minutes = Math.floor(time / 60);\r\n    var seconds = time - minutes * 60;\r\n    const lenSec = seconds.toString().length;\r\n    if(lenSec < 2) {\r\n      console.log(\"sec \" , seconds.toString().length);\r\n      seconds = \"0\" + seconds.toString();\r\n\r\n    }\r\n    const skilum = minutes + \":\" + seconds;\r\n    return skilum;\r\n  }\r\n\r\n  function init(videos) {\r\n    open(videos);\r\n  }\r\n  return {\r\n    init:init\r\n  }\r\n})();\r\n"]}